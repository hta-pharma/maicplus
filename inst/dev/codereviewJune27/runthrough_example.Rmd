---
title: "runthrough_example"
output: html_document
---

```{r, echo= FALSE} 
knitr::opts_chunk$set(warning = FALSE, message = FALSE,
                      tidy.opts = list(width.cutoff = 60), tidy = TRUE)
```


## Data

```{r}
setwd("~/GitHub/maicplus")
devtools::load_all()
```

```{r}
target_pop <- data.frame(
  STUDY = "Study_XXXX",
  ARM = "Total",
  N = 300,
  AGE_MEAN = 51,
  AGE_MEDIAN = 49,
  AGE_SD = 3.25,
  SEX_MALE_COUNT = 147,
  ECOG0_COUNT = 105,
  SMOKE_COUNT = 58
)
target_pop <- process_agd(target_pop)

# AC trial
AC_trial <- generate_survival_data(marginal_X_mean = 0)
AC_trial[,"x2"] <- ifelse(AC_trial[,"x2"] > 0, 1, 0)
AC_trial[,"x3"] <- ifelse(AC_trial[,"x3"] > 0.1, 1, 0)
AC_trial[,"x4"] <- ifelse(AC_trial[,"x4"] > 0.05, 1, 0)
colnames(AC_trial)[5:8] <- c("AGE", "SEX", "ECOG", "SMOKE")

A_trial <- AC_trial[AC_trial$treat == 1,]

BC_trial <- generate_survival_data(N = 600, marginal_X_mean = 0.45)
B_trial <- BC_trial[BC_trial$treat == 1,]
```

```{r}

```
